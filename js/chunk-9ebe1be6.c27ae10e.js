(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9ebe1be6"],{"159b":function(t,a,e){var s=e("da84"),i=e("fdbc"),o=e("17c2"),n=e("9112");for(var r in i){var c=s[r],l=c&&c.prototype;if(l&&l.forEach!==o)try{n(l,"forEach",o)}catch(u){l.forEach=o}}},"17c2":function(t,a,e){"use strict";var s=e("b727").forEach,i=e("a640"),o=e("ae40"),n=i("forEach"),r=o("forEach");t.exports=n&&r?[].forEach:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,a,e){"use strict";var s=e("23e7"),i=e("17c2");s({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"4a2f":function(t,a,e){"use strict";var s=e("b1d9"),i=e.n(s);i.a},"56a6":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message-alert"},t._l(t.messages,(function(a,s){return e("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+a.status},[t._v(" "+t._s(a.message)+" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.removeMessage(s)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},i=[],o=(e("4160"),e("a434"),e("159b"),{name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,a){var e=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,timestamp:e}),this.removeMessageWithTiming(e)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout((function(){a.messages.forEach((function(e,s){e.timestamp===t&&a.messages.splice(s,1)}))}),3e3)}},created:function(){var t=this;t.$bus.$on("message:push",(function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(a,e)}))}}),n=o,r=(e("4a2f"),e("2877")),c=Object(r["a"])(n,s,i,!1,null,null,null);a["a"]=c.exports},"8dd1":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"top"}},[e("Alert"),e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("half-circle-spinner",{attrs:{"animation-duration":1e3,size:60,color:"#835050"}})],1),e("nav",{staticClass:"navbar navbar-expand-lg navbar-light nav-item"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:"/home"}},[e("img",{staticStyle:{width:"50px"},attrs:{src:"https://s3.amazonaws.com/designmantic-logos/logos/2020/Jan/small-1927-5e25454e1df25.png",alt:""}})]),e("button",{staticClass:"navbar-toggler toggle-button align-items-center p-0",staticStyle:{border:"none"},attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("tasty-burger-button",{attrs:{color:t.color,"active-color":t.activeColor,type:"spin"}})],1),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[e("ul",{staticClass:"navbar-nav text-center nav-text"},[e("li",[e("router-link",{staticClass:"nav-color nav-link text-bold hvr-bob",attrs:{to:"/home"}},[t._v("首頁")])],1),e("li",[e("router-link",{staticClass:"nav-color nav-link text-bold hvr-bob",attrs:{to:"/productlist"}},[t._v("產品")])],1),e("li",[e("router-link",{staticClass:"nav-color nav-link text-bold hvr-bob",attrs:{to:"/coupon"}},[t._v("優惠卷")])],1),e("li",[e("router-link",{staticClass:"nav-color nav-link text-bold hvr-bob dispaly-user-flex",staticStyle:{"justify-content":"center"},attrs:{to:"/login"}},[t._v("前往後台")])],1)]),e("div",{staticClass:"nav-content navbar-collapse"},[e("ul",{staticClass:"ml-auto navbar-nav"},[e("li",{staticClass:"d-flex justify-content-end"},[e("button",{staticClass:"btn display-user-none",on:{click:function(a){return a.preventDefault(),t.goAdmin()}}},[e("i",{staticClass:"fas fa-user nav-icon"})]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn",staticStyle:{"padding-right":"0px"},attrs:{type:"button",id:"dropdownMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t.isFavShow?e("i",{staticClass:"fas fa-heart nav-icon heart-item"}):e("i",{staticClass:"far fa-heart nav-icon heart-item"}),t.isFavShow?e("span",{staticClass:"fav-count"},[t._v(t._s(t.favTotal))]):t._e()]),e("table",{staticClass:"dropdown-menu dropdown-menu-right dropItem table pt-2",staticStyle:{width:"250px"},attrs:{"aria-labelledby":"dropdownMenu"}},[e("h5",{staticClass:"text-center text-coffee p-2"},[t._v("我的最愛")]),0==t.isFavShow?e("span",{staticClass:"text-center text-danger d-block mb-3",staticStyle:{"font-size":"18px"}},[t._v(" 目前沒有任何收藏 ")]):t._e(),0==t.isFavShow?e("button",{staticClass:"btn btn-coffee text-white mx-auto d-block mb-4",on:{click:function(a){return a.preventDefault(),t.goProduct(a)}}},[t._v(" 收藏產品去 ")]):t._e(),e("tbody",t._l(t.favList,(function(a){return e("tr",{key:a,staticClass:"text-center"},[t.isFavShow?e("td",{staticClass:"pt-3",staticStyle:{width:"80%"}},[e("h5",{staticStyle:{color:"#835050",cursor:"pointer","font-size":"16px","margin-bottom":"0px"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.seeMore(a)}}},[t._v(t._s(a))])]):t._e(),e("td",{staticStyle:{width:"10%"}},[e("button",{staticClass:"btn p-0",on:{click:function(e){return e.preventDefault(),t.addFavCart(a)}}},[e("i",{staticClass:"fas fa-cart-plus text-coffee"})])]),t.isFavShow?e("td",{staticStyle:{width:"10%"}},[e("button",{staticClass:"btn p-0 pr-2",on:{click:function(e){return e.preventDefault(),t.removeFav(a)}}},[e("i",{staticClass:"far fa-trash-alt"})])]):t._e()])})),0),e("tfoot",[e("tr",[t.isFavShow?e("td",{staticClass:"text-center",attrs:{colspan:"3"}},[e("button",{staticClass:"btn btn-outline-danger w-100",on:{click:function(a){return a.preventDefault(),t.removeFavAll()}}},[t._v(" 刪除全部 ")])]):t._e()])])])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t.isCartShow?e("i",{staticClass:"iconfont icon-shopping-cart--fill nav-icon",staticStyle:{"font-size":"30px"}}):t._e(),0==t.isCartShow?e("i",{staticClass:"iconfont icon-shopping-cart--line nav-icon",staticStyle:{"font-size":"30px"}}):t._e(),t.isCartShow?e("span",{staticClass:"cart-count"},[t._v(t._s(t.countTotal))]):t._e()]),e("table",{staticClass:"dropdown-menu dropdown-menu-right dropItem table pt-2 px-1",staticStyle:{width:"330px"},attrs:{"aria-labelledby":"dropdownMenu"}},[e("h5",{staticClass:"text-coffee text-center p-2 text-bold"},[t._v("購物車")]),0==t.isCartShow?e("span",{staticClass:"d-block text-danger text-center",staticStyle:{"font-size":"18px"}},[t._v("目前購物車沒有產品")]):t._e(),0==t.isCartShow?e("button",{staticClass:"btn btn-coffee text-white mx-auto d-block mt-4",on:{click:function(a){return a.preventDefault(),t.goProduct(a)}}},[t._v(" 購買產品去 ")]):t._e(),t.isCartShow?e("thead",{staticClass:"text-coffee"},[e("th",{staticClass:"align-middle bt-0",staticStyle:{width:"50%"}},[t._v("名稱")]),e("th",{staticClass:"align-middle p-0 bt-0",staticStyle:{width:"20%"}},[t._v("人數")]),e("th",{staticClass:"align-middle bt-0",staticStyle:{width:"20%"}},[t._v("價格")]),e("th",{staticClass:"align-middle bt-0",staticStyle:{width:"10%"}},[t._v("刪除")])]):t._e(),e("tbody",[t._l(t.cart.carts,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"align-middle bt-0",staticStyle:{color:"#835050"}},[t._v(" "+t._s(a.product.title)+" ")]),e("td",{staticClass:"align-middle bt-0"},[t._v(" "+t._s(a.qty)+" ")]),e("td",{staticClass:"align-middle bt-0"},[t._v(" "+t._s(t._f("currency")(a.final_total))+" ")]),e("td",{staticClass:"align-middle bt-0"},[e("button",{staticClass:"btn btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removCartProduct(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])])])})),e("tr",[t.isCartShow?e("td",{staticClass:"text-right text-bold text-coffee",attrs:{colspan:"2"}},[t._v(" 總計 ")]):t._e(),t.isCartShow?e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v(" "+t._s(t._f("currency")(t.cart.total))+"元 ")]):t._e()]),t.cart.final_total!=t.cart.total?e("tr",[e("td",{staticClass:"text-right text-success",attrs:{colspan:"2"}},[t._v("折扣價")]),e("td",{staticClass:"text-right text-success",staticStyle:{width:"50%"},attrs:{colspan:"2"}},[t._v(" "+t._s(t._f("currency")(t.cart.final_total))+"元 ")])]):t._e()],2),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",staticStyle:{"border-top":"none !important"},attrs:{colspan:"4"}},[t.isCartShow?e("a",{staticClass:"btn btn-coffee text-white",on:{click:function(a){return a.preventDefault(),t.goCheckout()}}},[t._v(" 結帳去 ")]):t._e()])])])])])])])])])],1)],1)},i=[],o=(e("99af"),e("4de4"),e("c975"),e("a434"),e("4583")),n=e("ec9a"),r=e("56a6"),c={components:{Alert:r["a"],HalfCircleSpinner:o["a"],TastyBurgerButton:n["TastyBurgerButton"]},data:function(){return{color:"#835050",activeColor:"#835050",favList:[],countTotal:0,favTotal:0,isCartShow:!1,isFavShow:!1,favoriteItem:JSON.parse(localStorage.getItem("favoriteItemId"))||[],cart:{},coupon_code:"",isLoading:!1,status:{loadingItem:""}}},methods:{getCart:function(){var t=this,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/cart");a.isLoading=!0,a.$http.get(e).then((function(e){a.cart=e.data.data,a.countTotal=a.cart.carts.length,a.$bus.$emit("updateCountTotal",t.countTotal),0===a.cart.carts.length?a.isCartShow=!1:a.isCartShow=!0,a.isLoading=!1}))},goAdmin:function(){this.$router.push("/login")},goProduct:function(){this.$router.push("/productlist")},addCouponCode:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/coupon"),e={code:t.coupon_code};t.isLoading=!0,t.$http.post(a,{data:e}).then((function(){t.getCart(),t.isLoading=!1}))},getFavProduct:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/products/all");this.$http.get(a).then((function(a){var e=a.data.products;e.filter((function(a){return-1!==t.favoriteItem.indexOf(a.id)&&t.favList.push(a.title),a}))}))},addCart:function(t,a){var e=this,s=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/cart");s.$http.get(i).then((function(o){s.cart=o.data.data;var n=s.cart.carts.filter((function(a){return a.product_id===t}));if(n.length>0){var r=n[0],c=r.qty,l=c+a,u=r.product_id,f=r.id;s.updateCart(u,f,l)}else{var d={product_id:t,qty:a};e.$http.post(i,{data:d}).then((function(){s.getCart()}))}})),s.status.loadingItem=t},updateCart:function(t,a,e){var s=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/cart/").concat(a),o="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/cart"),n={product_id:t,qty:e};s.$http.all([s.$http.delete(i),s.$http.post(o,{data:n})]).then(s.$http.spread((function(){s.getCart()})))},seeMore:function(t){var a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/products/all");a.$http.get(e).then((function(e){var s=e.data.products;s.filter((function(e){return-1!==t.indexOf(e.title)&&a.$bus.$emit("sendId",e.id),e}))}))},addFavCart:function(t){var a=this,e=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/products/all");e.$http.get(s).then((function(e){var s=e.data.products;s.filter((function(e){return-1!==t.indexOf(e.title)&&(a.addCart(e.id,1),a.addRemovefav(e.title)),e}))}))},CheckFavorite:function(){var t=this;t.favTotal=t.favoriteItem.length,0!==t.favoriteItem.length?t.isFavShow=!0:t.isFavShow=!1},goCheckout:function(){this.$router.push("/checkout")},removCartProduct:function(t){var a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/cart/").concat(t);a.isLoading=!0,a.$http.delete(e).then((function(){a.getCart(),a.isLoading=!1,a.$bus.$emit("message:push","已成功刪除","danger"),a.$bus.$emit("updateOrderCart")}))},addRemovefav:function(t){var a=this;a.favData=a.favoriteItem.indexOf(t),a.favoriteItem.splice(a.favData,1),localStorage.setItem("favoriteItemId",JSON.stringify(a.favoriteItem)),a.CheckFavorite(),a.$bus.$emit("message:push","成功加入購物車","success"),setTimeout((function(){a.$bus.$emit("returnFavItem",t)}),100)},removeFav:function(t){var a=this;a.favData=a.favoriteItem.indexOf(t),a.favoriteItem.splice(a.favData,1),localStorage.setItem("favoriteItemId",JSON.stringify(a.favoriteItem)),a.CheckFavorite(),a.$bus.$emit("message:push","已移除我的最愛","danger"),setTimeout((function(){a.$bus.$emit("returnFavItem",t)}),100)},removeFavAll:function(){var t=this;t.favData=t.favoriteItem,t.favData.splice(0,t.favData.length),localStorage.setItem("favoriteItemId",JSON.stringify(t.favoriteItem)),t.$bus.$emit("message:push","已移除我的最愛","danger"),t.CheckFavorite(),setTimeout((function(){t.$bus.$emit("returnFavItem")}),100)},offxxxListene:function(){this.$bus.$off("updateFavItem"),this.$bus.$off("updateSameCart")}},created:function(){this.getCart(),this.getFavProduct(),this.CheckFavorite()},mounted:function(){var t=this;t.$bus.$on("updateCart",(function(){t.getCart()})),t.$bus.$on("updateSameCart",(function(a,e){t.addCart(a,e)})),t.$bus.$on("updateFavItem",(function(a){t.favoriteItem=a,t.CheckFavorite()}))},watch:{favoriteItem:function(){var t=this;t.favList.length!==t.favoriteItem.length&&(t.favList=[],this.getFavProduct())}},beforeDestroy:function(){this.$bus.$off("updateSameCart")}},l=c,u=e("2877"),f=Object(u["a"])(l,s,i,!1,null,null,null);a["a"]=f.exports},a434:function(t,a,e){"use strict";var s=e("23e7"),i=e("23cb"),o=e("a691"),n=e("50c4"),r=e("7b0b"),c=e("65f0"),l=e("8418"),u=e("1dde"),f=e("ae40"),d=u("splice"),v=f("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,p=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!d||!v},{splice:function(t,a){var e,s,u,f,d,v,C=r(this),b=n(C.length),x=i(t,b),_=arguments.length;if(0===_?e=s=0:1===_?(e=0,s=b-x):(e=_-2,s=p(h(o(a),0),b-x)),b+e-s>m)throw TypeError(g);for(u=c(C,s),f=0;f<s;f++)d=x+f,d in C&&l(u,f,C[d]);if(u.length=s,e<s){for(f=x;f<b-s;f++)d=f+s,v=f+e,d in C?C[v]=C[d]:delete C[v];for(f=b;f>b-s+e;f--)delete C[f-1]}else if(e>s)for(f=b-s;f>x;f--)d=f+s-1,v=f+e-1,d in C?C[v]=C[d]:delete C[v];for(f=0;f<e;f++)C[f+x]=arguments[f+2];return C.length=b-s+e,u}})},b1d9:function(t,a,e){},c975:function(t,a,e){"use strict";var s=e("23e7"),i=e("4d64").indexOf,o=e("a640"),n=e("ae40"),r=[].indexOf,c=!!r&&1/[1].indexOf(1,-0)<0,l=o("indexOf"),u=n("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(t){return c?r.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},fd2d:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"footer-box mt-3"},[e("div",{staticClass:"row text-center"},[e("ul",{staticClass:"col-md-4 pt-4"},[e("h4",{staticClass:"mb-3 text-coffee text-bold"},[t._v("FiFi 愛旅遊")]),e("li",[e("router-link",{staticClass:"left-link",attrs:{to:"/question"}},[t._v("常見問題")])],1),e("li",[e("router-link",{staticClass:"left-link",attrs:{to:"/productlist"}},[t._v("購買產品")])],1),e("li",[e("router-link",{staticClass:"left-link",attrs:{to:"/coupon"}},[t._v("領取優惠卷")])],1)]),t._m(0),t._m(1)]),e("div",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#top",expression:"'#top'"}],staticStyle:{display:"none"},attrs:{id:"gotop"}},[e("i",{staticClass:"fas fa-chevron-circle-up scroll-icon"})]),0!=t.CartTotal?e("div",{staticClass:"cart-item"},[e("a",{on:{click:function(a){return a.preventDefault(),t.goCheckout()}}},[e("img",{staticClass:"cart-icon-img",attrs:{src:"https://i.imgur.com/9RBQNgs.png",alt:""}}),e("span",{staticClass:"cart-icon-text"},[t._v("購物車("+t._s(t.CartTotal)+")")])])]):t._e()])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",{staticClass:"col-md-4 pt-4"},[e("h4",{staticClass:"mb-3 text-coffee text-bold"},[t._v("聯絡我們")]),e("li",{staticClass:"text-coffee"},[t._v("電話:0912345678")]),e("li",{staticClass:"text-coffee"},[t._v("信箱:FiFi@gmail.com")]),e("li",{staticClass:"text-coffee"},[t._v("地址:嘉義市東區 ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",{staticClass:"col-md-4 pt-4 footer-icon"},[e("h4",{staticClass:"pb-2 text-coffee text-bold"},[t._v("追蹤我們")]),e("li",[e("a",{staticClass:"pr-2",attrs:{href:"#"}},[e("i",{staticClass:"fab fa-facebook fa-2x fa-color"})]),e("a",{attrs:{href:"#"}},[e("i",{staticClass:"fab fa-instagram fa-2x fa-color"})])]),e("li",[e("a",{staticClass:"pr-2",attrs:{href:"#"}},[e("i",{staticClass:"fab fa-twitter fa-2x fa-color"})]),e("a",{attrs:{href:"#"}},[e("i",{staticClass:"fab fa-google fa-2x fa-color"})])])])}],o=e("1157"),n=e.n(o),r={data:function(){return{CartTotal:""}},methods:{goCheckout:function(){this.$router.push("/checkout")}},mounted:function(){var t=this;function a(){n()(this).scrollTop()>1200?n()("#gotop").fadeIn():n()("#gotop").fadeOut()}t.$bus.$on("updateCountTotal",(function(a){t.CartTotal=a})),n()(window).scroll(a)}},c=r,l=e("2877"),u=Object(l["a"])(c,s,i,!1,null,null,null);a["a"]=u.exports},fdbc:function(t,a){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-9ebe1be6.c27ae10e.js.map