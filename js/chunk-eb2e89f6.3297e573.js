(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eb2e89f6"],{"159b":function(t,a,e){var s=e("da84"),i=e("fdbc"),o=e("17c2"),n=e("9112");for(var r in i){var c=s[r],l=c&&c.prototype;if(l&&l.forEach!==o)try{n(l,"forEach",o)}catch(d){l.forEach=o}}},"17c2":function(t,a,e){"use strict";var s=e("b727").forEach,i=e("a640"),o=e("ae40"),n=i("forEach"),r=o("forEach");t.exports=n&&r?[].forEach:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,a,e){"use strict";var s=e("23e7"),i=e("17c2");s({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"45fc":function(t,a,e){"use strict";var s=e("23e7"),i=e("b727").some,o=e("a640"),n=e("ae40"),r=o("some"),c=n("some");s({target:"Array",proto:!0,forced:!r||!c},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"4a2f":function(t,a,e){"use strict";var s=e("b1d9"),i=e.n(s);i.a},"56a6":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message-alert"},t._l(t.messages,(function(a,s){return e("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+a.status},[t._v(" "+t._s(a.message)+" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.removeMessage(s)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},i=[],o=(e("4160"),e("a434"),e("159b"),{name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,a){var e=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,timestamp:e}),this.removeMessageWithTiming(e)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout((function(){a.messages.forEach((function(e,s){e.timestamp===t&&a.messages.splice(s,1)}))}),3e3)}},created:function(){var t=this;t.$bus.$on("message:push",(function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(a,e)}))}}),n=o,r=(e("4a2f"),e("2877")),c=Object(r["a"])(n,s,i,!1,null,null,null);a["a"]=c.exports},6654:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Alert"),e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("half-circle-spinner",{attrs:{"animation-duration":1e3,size:60,color:"#835050"}})],1),e("div",{staticClass:"container-lg",attrs:{id:"top"}},[e("Navbar"),e("nav",{attrs:{"aria-label":"breadcrumb breadcrumb-item"}},[e("ol",{staticClass:"breadcrumb mt-1 bg-coffee"},[e("li",{staticClass:"breadcrumb-item breadcrumb-text-color"},[e("router-link",{attrs:{to:"/"}},[t._v("首頁")])],1),e("li",{staticClass:"breadcrumb-item active"},[t._v("旅遊景點")]),e("li",{staticClass:"breadcrumb-item active"},[t._v(t._s(t.select))])])]),e("div",{staticClass:"accordion accordion-item",attrs:{id:"accordionExample"}},[e("div",{staticClass:"card text-center",attrs:{"data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"false"},on:{click:function(a){t.collapseStep=!t.collapseStep}}},[e("div",{staticClass:"card-header",attrs:{id:"headingOne"}},[e("h2",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"false"},on:{click:function(a){t.collapseStep=!t.collapseStep}}},[e("span",{staticClass:"text-coffee"},[t._v(t._s(t.collapseStep?"開啟選單":"關閉選單"))])])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-parent":"#accordionExample"}},t._l(t.local.list,(function(a,s){return e("div",{key:s,staticClass:"list-group-item list-group-item-action views text-bold",class:{active:t.select==a},on:{click:function(e){return e.preventDefault(),t.getLocal(a)}}},[t._v(" "+t._s(a)+" ")])})),0)])]),e("div",{staticClass:"row list"},[e("div",{staticClass:"col-md-3 col-lg-2 col-sm-12 left-list"},[e("ul",{staticClass:"list-group mt-3 sticky-top"},t._l(t.local.list,(function(a,s){return e("li",{key:s,staticClass:"list-group-item list-group-item-action views text-bold",class:{"text-white active":t.select==a},on:{click:function(e){return e.preventDefault(),t.getLocal(a)}}},[t._v(" "+t._s(a)+" ")])})),0)]),e("div",{staticClass:"col-md-9 col-lg-10 col-sm-12"},[e("div",{staticClass:"row"},t._l(t.products,(function(a){return e("div",{key:a.id,staticClass:"mt-3 product-box col-md-6 col-lg-4 col-sm-12"},[e("div",{staticClass:"card card-item"},[e("div",{staticClass:"product-img",style:{backgroundImage:"url("+a.imageUrl},on:{click:function(e){return t.goProduct(a.id)}}}),t.checkFavStatus(a)?t._e():e("i",{staticClass:"far fa-heart fa-item",staticStyle:{"font-size":"25px"},on:{click:function(e){return t.addFavorite(a,a.id)}}}),t.checkFavStatus(a)?e("i",{staticClass:"fas fa-heart fa-item",staticStyle:{"font-size":"25px"},on:{click:function(e){return t.addFavorite(a,a.id)}}}):t._e(),e("div",{staticClass:"card-body card-middle-item pb-1 bg-light",on:{click:function(e){return t.goProduct(a.id)}}},[e("span",{staticClass:"badge badge-coffee float-right ml-2",staticStyle:{"font-size":"15px"}},[t._v(t._s(a.category)+" ")]),e("h5",{staticClass:"card-title"},[e("a",{staticClass:"text-coffee text-bold",attrs:{href:"#"}},[t._v(t._s(a.title))])]),e("p",{staticClass:"card-text"},[t._v(t._s(a.content))]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline product-Card"},[a.price?t._e():e("div",[t._v(t._s(a.origin_price)+" 元")]),a.price?e("del",[t._v("$"+t._s(a.origin_price))]):t._e(),a.price?e("div",{staticClass:"product-text"},[t._v(t._s(t._f("currency")(a.price))+" 元")]):t._e()])]),e("div",{staticClass:"card-footer d-flex product-card text-center bg-coffee text-white card-display-com"},[e("a",{staticClass:"col-md-5 p-0 more-border",on:{click:function(e){return t.goProduct(a.id)}}},[t._v("查看更多")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.numItem,expression:"item.numItem"}],staticClass:"product-select form-control col-md-2 p-0 ml-2",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(a,"numItem",e.target.multiple?s:s[0])}}},t._l(9,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(" "+t._s(a)+" ")])})),0),e("a",{staticClass:"col-md-5 p-0",staticStyle:{opacity:"1"},on:{click:function(e){return t.addtoCart(a.id,a.numItem)}}},[t._v("加入購物車")])]),e("div",{staticClass:"card-footer card-display d-none bg-coffee text-white"},[e("div",{staticClass:"col-12 text-center"},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.numItem,expression:"item.numItem"}],staticClass:"product-select form-control p-0 d-inline",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(a,"numItem",e.target.multiple?s:s[0])}}},t._l(9,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(" "+t._s(a)+" ")])})),0),e("a",{staticStyle:{"margin-left":"20px"},on:{click:function(e){return t.addtoCart(a.id,a.numItem)}}},[t._v("加入購物車")])])]),0==a.is_enabled?e("div",{staticClass:"card-footer soldout"},[e("button",{staticClass:"btn btn-danger border soldoutBtn",attrs:{disabled:""}},[t._v("已售完")])]):t._e(),e("div")])])})),0)])])],1),e("div",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#top",expression:"'#top'"}],staticStyle:{display:"none"},attrs:{id:"returnTop"}},[e("i",{staticClass:"fas fa-chevron-circle-up scroll-icon-product"})])],1)},i=[],o=(e("99af"),e("4de4"),e("4160"),e("c975"),e("45fc"),e("a434"),e("159b"),e("4583")),n=e("1157"),r=e.n(n),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Alert"),e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("half-circle-spinner",{attrs:{"animation-duration":1e3,size:60,color:"#835050"}})],1),e("nav",{staticClass:"navbar navbar-expand-lg navbar-light nav-item"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:"/home"}},[e("img",{staticStyle:{width:"50px"},attrs:{src:"https://s3.amazonaws.com/designmantic-logos/logos/2020/Jan/small-1927-5e25454e1df25.png",alt:""}})]),e("button",{staticClass:"navbar-toggler toggle-button align-items-center p-0",staticStyle:{border:"none"},attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("tasty-burger-button",{attrs:{color:t.color,"active-color":t.activeColor,type:"spin"}})],1),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[e("ul",{staticClass:"navbar-nav text-center"},[e("li",[e("router-link",{staticClass:"nav-color nav-link text-bold hvr-bob",attrs:{to:"/home/"}},[t._v("首頁")])],1),e("li",[e("router-link",{staticClass:"nav-color nav-link text-bold hvr-bob",attrs:{to:"/productlist/"}},[t._v(" 產品 ")])],1),e("li",[e("router-link",{staticClass:"nav-color nav-link text-bold hvr-bob",attrs:{to:"/coupon/"}},[t._v(" 優惠卷 ")])],1),e("li",[e("router-link",{staticClass:"nav-color nav-link text-bold hvr-bob dispaly-user-flex",staticStyle:{"justify-content":"center"},attrs:{to:"/login"}},[t._v("前往後台")])],1)]),e("div",{staticClass:"nav-content navbar-collapse"},[e("ul",{staticClass:"ml-auto navbar-nav"},[e("li",{staticClass:"d-flex justify-content-end"},[e("button",{staticClass:"btn display-user-none",on:{click:function(a){return a.preventDefault(),t.goAdmin()}}},[e("i",{staticClass:"fas fa-user nav-icon"})]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn",staticStyle:{"padding-right":"0px"},attrs:{type:"button",id:"dropdownMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t.isFavShow?e("i",{staticClass:"fas fa-heart nav-icon heart-item"}):e("i",{staticClass:"far fa-heart nav-icon heart-item"}),t.isFavShow?e("span",{staticClass:"fav-count"},[t._v(t._s(t.favTotal))]):t._e()]),e("table",{staticClass:"dropdown-menu dropdown-menu-right dropItem table pt-2 px-1",staticStyle:{width:"250px"},attrs:{"aria-labelledby":"dropdownMenu"}},[e("h5",{staticClass:"text-center text-coffee text-bold p-2"},[t._v("我的最愛")]),0==t.isFavShow?e("span",{staticClass:"text-center text-danger d-block mb-3",staticStyle:{"font-size":"18px"}},[t._v("目前沒有任何收藏")]):t._e(),e("tbody",t._l(t.favList,(function(a){return e("tr",{key:a,staticClass:"text-center"},[t.isFavShow?e("td",{staticClass:"pt-3",staticStyle:{width:"80%"}},[e("h5",{staticStyle:{color:"#835050",cursor:"pointer","font-size":"16px","margin-bottom":"0px"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.seeMore(a)}}},[t._v(t._s(a))])]):t._e(),e("td",{staticStyle:{width:"10%"}},[e("button",{staticClass:"btn p-0",on:{click:function(e){return e.preventDefault(),t.addFavCart(a)}}},[e("i",{staticClass:"fas fa-cart-plus text-coffee"})])]),t.isFavShow?e("td",{staticStyle:{width:"10%"}},[e("button",{staticClass:"btn p-0 pr-2",on:{click:function(e){return e.preventDefault(),t.removeFav(a)}}},[e("i",{staticClass:"far fa-trash-alt"})])]):t._e()])})),0),e("tfoot",[e("tr",[t.isFavShow?e("td",{staticClass:"text-center",attrs:{colspan:"3"}},[e("button",{staticClass:"btn btn-outline-danger w-100",on:{click:function(a){return a.preventDefault(),t.removeFavAll()}}},[t._v(" 刪除全部 ")])]):t._e()])])])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t.isCartShow?e("i",{staticClass:"iconfont icon-shopping-cart--fill nav-icon",staticStyle:{"font-size":"30px"}}):t._e(),0==t.isCartShow?e("i",{staticClass:"iconfont icon-shopping-cart--line nav-icon",staticStyle:{"font-size":"30px"}}):t._e(),t.isCartShow?e("span",{staticClass:"cart-count"},[t._v(t._s(t.countTotal))]):t._e()]),e("table",{staticClass:"dropdown-menu dropdown-menu-right dropItem table pt-2 px-1",staticStyle:{width:"330px"},attrs:{"aria-labelledby":"dropdownMenu"}},[e("h5",{staticClass:"text-coffee text-center p-2 text-bold"},[t._v("購物車")]),0==t.isCartShow?e("span",{staticClass:"d-block text-danger text-center",staticStyle:{"font-size":"18px"}},[t._v("目前購物車沒有產品")]):t._e(),t.isCartShow?e("thead",{staticClass:"text-coffee"},[e("th",{staticClass:"align-middle",staticStyle:{"border-top":"none",width:"50%"}},[t._v("名稱")]),e("th",{staticClass:"align-middle p-0",staticStyle:{"border-top":"none",width:"20%"}},[t._v("人數")]),e("th",{staticClass:"align-middle",staticStyle:{"border-top":"none",width:"20%"}},[t._v("價格")]),e("th",{staticClass:"align-middle",staticStyle:{"border-top":"none",width:"10%"}},[t._v("刪除")])]):t._e(),e("tbody",[t._l(t.cart.carts,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"align-middle",staticStyle:{"border-top":"none",color:"#835050"}},[t._v(" "+t._s(a.product.title)+" ")]),e("td",{staticClass:"align-middle",staticStyle:{"border-top":"none"}},[t._v(" "+t._s(a.qty)+" ")]),e("td",{staticClass:"align-middle",staticStyle:{"border-top":"none"}},[t._v(" "+t._s(t._f("currency")(a.final_total))+" ")]),e("td",{staticClass:"align-middle text-coffee",staticStyle:{"border-top":"none !important"}},[e("button",{staticClass:"btn btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removCartProduct(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])])])})),e("tr",[t.isCartShow?e("td",{staticClass:"text-right text-coffee text-bold",attrs:{colspan:"2"}},[t._v(" 總計 ")]):t._e(),t.isCartShow?e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v(" "+t._s(t._f("currency")(t.cart.total))+"元 ")]):t._e()]),t.cart.final_total!=t.cart.total?e("tr",[e("td",{staticClass:"text-right text-success",attrs:{colspan:"2"}},[t._v("折扣價")]),e("td",{staticClass:"text-right text-success",staticStyle:{width:"50%"},attrs:{colspan:"2"}},[t._v(" "+t._s(t._f("currency")(t.cart.final_total))+"元 ")])]):t._e()],2),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",staticStyle:{"border-top":"none !important"},attrs:{colspan:"4"}},[t.isCartShow?e("a",{staticClass:"btn btn-coffee text-white",on:{click:function(a){return a.preventDefault(),t.goCheckout()}}},[t._v(" 結帳去 ")]):t._e()])])])])])])])])])],1),this.window.width<767?e("div",{staticClass:"navbar-bottom-box",attrs:{id:"bottom-box"}},[e("ul",{staticClass:"navbar-bottom-item"},[e("li",{staticClass:"d-flex"},[e("button",{staticClass:"btn",on:{click:function(a){return a.preventDefault(),t.goAdmin()}}},[e("i",{staticClass:"fas fa-user nav-icon"})]),e("button",{staticClass:"btn btn-position",attrs:{"data-toggle":"modal","data-target":"#CartModal"},on:{click:function(a){return a.preventDefault(),t.getCart()}}},[t.isCartShow?e("i",{staticClass:"iconfont icon-shopping-cart--fill nav-icon",staticStyle:{"font-size":"30px"}}):t._e(),0==t.isCartShow?e("i",{staticClass:"iconfont icon-shopping-cart--line nav-icon",staticStyle:{"font-size":"30px"}}):t._e(),t.isCartShow?e("span",{staticClass:"cart-count-bottom"},[t._v(t._s(t.countTotal))]):t._e()]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn",attrs:{type:"button",id:"dropdownMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t.isFavShow?e("i",{staticClass:"fas fa-heart nav-icon heart-item"}):e("i",{staticClass:"far fa-heart nav-icon heart-item"}),t.isFavShow?e("span",{staticClass:"fav-count"},[t._v(t._s(t.favTotal))]):t._e()]),e("table",{staticClass:"dropdown-menu dropdown-menu-right dropItem table pt-2",staticStyle:{width:"250px"},attrs:{"aria-labelledby":"dropdownMenu"}},[e("h5",{staticClass:"text-center text-coffee p-2"},[t._v("我的最愛")]),e("tbody",[t._l(t.favList,(function(a){return e("tr",{key:a,staticClass:"text-center"},[t.isFavShow?e("td",{staticClass:"pt-3",staticStyle:{width:"80%"}},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.seeMore(a)}}},[t._v(t._s(a))])]):t._e(),e("td",{staticStyle:{width:"10%"}},[e("button",{staticClass:"btn p-0 pr-2",on:{click:function(e){return e.preventDefault(),t.removeFav(a)}}},[e("i",{staticClass:"far fa-trash-alt"})])]),t.isFavShow?e("td",{staticStyle:{width:"10%"}},[e("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.removeFav(a)}}},[e("i",{staticClass:"far fa-trash-alt"})])]):t._e()])})),e("tr",[0==t.isFavShow?e("td",{staticClass:"text-center",staticStyle:{width:"250px","font-size":"18px"}},[t._v(" 快去加入收藏吧!! ")]):t._e()])],2),e("tfoot",[e("tr",[t.isFavShow?e("td",{staticClass:"text-center",attrs:{colspan:"3"}},[e("button",{staticClass:"btn btn-outline-danger w-100",on:{click:function(a){return a.preventDefault(),t.removeFavAll()}}},[t._v(" 刪除全部 ")])]):t._e()])])])])])])]):t._e(),e("div",{staticClass:"modal fade modal-box",attrs:{id:"CartModal",tabindex:"-1",role:"dialog","aria-labelledby":"CartModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(0),e("table",{staticClass:"table text-center"},[t.isCartShow?e("thead",[e("th",[t._v("名稱")]),e("th",[t._v("人數")]),e("th",[t._v("價格")]),e("th",[t._v("刪除")])]):e("h5",{staticClass:"pt-5"},[t._v("把喜歡的產品加入進來吧 !!")]),e("tbody",[t._l(t.cart.carts,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.product.title)+" "),a.coupon?e("div",{staticClass:"text-success"},[t._v(" 已套用優惠券 ")]):t._e()]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",{staticClass:"align-middle"},[t._v(t._s(t._f("currency")(a.final_total))+"元")]),e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removCartProduct(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])])])})),e("tr",[t.isCartShow?e("td",{staticClass:"text-right text-coffee text-bold",staticStyle:{"border-top":"1px solid #dee2e6 !important"},attrs:{colspan:"3"}},[t._v(" 總計 ")]):t._e(),t.isCartShow?e("td",{staticClass:"text-right",staticStyle:{"border-top":"1px solid #dee2e6 !important"},attrs:{colspan:"2"}},[t._v(" "+t._s(t._f("currency")(t.cart.total))+"元 ")]):t._e()]),t.cart.final_total!==t.cart.total?e("tr",[e("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v("折扣價")]),e("td",{staticClass:"text-right text-success"},[t._v(t._s(t._f("currency")(t.cart.final_total))+"元")])]):t._e()],2),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"4"}},[t.isCartShow?e("a",{staticClass:"btn btn-coffee",on:{click:function(a){return a.preventDefault(),t.goCheckout()}}},[t._v(" 結帳去"),e("i",{staticClass:"fas fa-arrow-right"})]):t._e()])])])])])])])],1)},l=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header",staticStyle:{"align-items":"center !important"}},[e("h5",{staticClass:"w-100 text-center"},[t._v("訂單內容")])])}],d=e("ec9a"),u=e("56a6"),f={components:{Alert:u["a"],HalfCircleSpinner:o["a"],TastyBurgerButton:d["TastyBurgerButton"]},data:function(){return{isClick:!0,color:"#835050",activeColor:"#835050",countTotal:0,favTotal:0,isCartShow:!1,isFavShow:!1,favoriteItem:JSON.parse(localStorage.getItem("favoriteItemId"))||[],favList:[],cart:{},coupon_code:"",isLoading:!1,status:{loadingItem:""},window:{width:0}}},methods:{getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/cart");t.isLoading=!0,t.$http.get(a).then((function(a){t.cart=a.data.data,t.countTotal=t.cart.carts.length,0===t.cart.carts.length?t.isCartShow=!1:t.isCartShow=!0,t.isLoading=!1}))},updateCart:function(t,a,e){var s=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/cart/").concat(a),o="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/cart"),n={product_id:t,qty:e};s.$http.all([s.$http.delete(i),s.$http.post(o,{data:n})]).then(s.$http.spread((function(){s.getCart()})))},goAdmin:function(){this.$router.push("/login")},addCouponCode:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/coupon"),e={code:t.coupon_code};t.isLoading=!0,t.$http.post(a,{data:e}).then((function(){t.getCart(),t.isLoading=!1}))},getFavProduct:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/products/all");this.$http.get(a).then((function(a){var e=a.data.products;e.filter((function(a){return-1!==t.favoriteItem.indexOf(a.id)&&t.favList.push(a.title),a}))}))},CheckFavorite:function(){var t=this;t.favTotal=t.favoriteItem.length,0!==t.favoriteItem.length?t.isFavShow=!0:t.isFavShow=!1},addCart:function(t,a){var e=this,s=this;if(s.isClick){s.isClick=!1;var i="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/cart");s.$http.get(i).then((function(o){s.cart=o.data.data;var n=s.cart.carts.filter((function(a){return a.product_id===t}));if(n.length>0){var r=n[0],c=r.qty,l=c+a,d=r.product_id,u=r.id;s.updateCart(d,u,l)}else{var f={product_id:t,qty:a};e.$http.post(i,{data:f}).then((function(){s.getCart()}))}setTimeout((function(){s.isClick=!0}),500)}))}s.status.loadingItem=t},seeMore:function(t){var a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/products/all");a.$http.get(e).then((function(e){var s=e.data.products;s.filter((function(e){return-1!==t.indexOf(e.title)&&a.$bus.$emit("sendId",e.id),e}))}))},addFavCart:function(t){var a=this,e=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/products/all");e.$http.get(s).then((function(e){var s=e.data.products;s.filter((function(e){return-1!==t.indexOf(e.title)&&(a.addCart(e.id,1,e.title),a.addRemovefav(e.title)),e}))}))},goCheckout:function(){r()("#CartModal").modal("hide"),this.$router.push("/checkout")},handleResize:function(){if(this.window.width=window.innerWidth,this.window.width<=768){var t=function(t){var a;t&&"function"===typeof t&&window.addEventListener("scroll",(function(){r()(".navbar-bottom-box").slideUp(),window.clearTimeout(a),a=setTimeout((function(){r()(".navbar-bottom-box").slideDown()}),1500)}),!1)};t((function(){}))}else r()(".navbar-bottom-box").remove()},removCartProduct:function(t){var a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/cart/").concat(t);a.isLoading=!0,a.$http.delete(e).then((function(){a.getCart(),a.isLoading=!1,a.$bus.$emit("message:push","已成功刪除","danger"),a.$bus.$emit("updateOrderCart")}))},addRemovefav:function(t){var a=this;a.favData=a.favoriteItem.indexOf(t),a.favoriteItem.splice(a.favData,1),localStorage.setItem("favoriteItemId",JSON.stringify(a.favoriteItem)),a.CheckFavorite(),a.$bus.$emit("message:push","已加入購物車","success"),setTimeout((function(){a.$bus.$emit("returnFavItem",t)}),100)},removeFav:function(t){var a=this;a.favData=a.favoriteItem.indexOf(t),a.favoriteItem.splice(a.favData,1),localStorage.setItem("favoriteItemId",JSON.stringify(a.favoriteItem)),a.CheckFavorite(),a.$bus.$emit("message:push","已移除我的最愛","danger"),setTimeout((function(){a.$bus.$emit("returnFavItem",t)}),100)},removeFavAll:function(){var t=this;t.favData=t.favoriteItem,t.favData.splice(0,t.favData.length),localStorage.setItem("favoriteItemId",JSON.stringify(t.favoriteItem)),t.CheckFavorite(),t.$bus.$emit("message:push","已移除我的最愛","danger"),setTimeout((function(){t.$bus.$emit("returnFavItem",t.favoriteItem)}),100)},offxxxListener:function(){this.$bus.$off("updateCart"),this.$bus.$off("updateFavItem"),this.$bus.$off("addSameCart")}},created:function(){this.getCart(),this.getFavProduct(),this.CheckFavorite(),window.addEventListener("resize",this.handleResize),this.handleResize()},watch:{favoriteItem:function(){var t=this;t.favList.length!==t.favoriteItem.length&&(t.favList=[],t.getFavProduct())}},mounted:function(){var t=this;t.$bus.$on("addSameCart",(function(a,e){t.addCart(a,e)})),t.$bus.$on("updateFavItem",(function(a){t.favoriteItem=a,t.CheckFavorite()}))},destroyed:function(){this.offxxxListener(),window.removeEventListener("resize",this.handleResize)}},v=f,p=e("2877"),h=Object(p["a"])(v,c,l,!1,null,null,null),m=h.exports,g={data:function(){return{collapseStep:!0,select:"全部景點",products:[],productId:"",status:{loadingItem:""},favItem:"",favoriteItem:[],local:{list:["全部景點","法國","英國","德國","義大利","西班牙","波蘭","挪威","烏克蘭","冰島","希臘"],select:"全部景點"}}},methods:{getProducts:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("travel590","/products/all");t.$store.dispatch("updateLoading",!0),t.$http.get(a).then((function(a){t.$store.dispatch("updateLoading",!1);var e=a.data.products;e.forEach((function(a){t.$set(a,"numItem",1)}));var s=a.data.products;if(s.forEach((function(a){t.$set(a,"favItem",!1),t.favItem=a.favItem})),"全部景點"!==t.local.select){var i=a.data.products.filter((function(a){return a.category===t.local.select}));t.products=i}else t.products=a.data.products}))},getItem:function(){var t=this;t.$bus.$on("areatext",(function(a){t.select=a,t.local.select=a,t.getProducts()}))},goProduct:function(t){this.$router.push("/product/".concat(t))},getLocal:function(t){var a=this;a.local.select=t,a.select=t,a.getProducts()},addtoCart:function(t,a){var e=this;this.$bus.$emit("addSameCart",t,a),setTimeout((function(){e.$bus.$emit("message:push","已成功加入","success")}),1e3)},addFavorite:function(t,a){var e=this;e.productId=a,-1===e.favoriteItem.indexOf(e.productId)?(e.favItem=!0,e.$bus.$emit("message:push","已加入我的最愛","success"),e.favoriteItem.push(e.productId)):(e.favoriteItem.splice(e.favoriteItem.indexOf(e.productId),1),e.favItem=!1,e.$bus.$emit("message:push","已移除我的最愛","danger")),localStorage.setItem("favoriteItemId",JSON.stringify(e.favoriteItem)),e.$bus.$emit("updateFavItem",e.favoriteItem)},checkFavStatus:function(t){var a=this;return!!a.favoriteItem.some((function(a){return a===t.id}))},goCoupon:function(){this.$router.push("/coupon")}},components:{Navbar:m,Alert:u["a"],HalfCircleSpinner:o["a"]},computed:{isLoading:function(){return this.$store.state.isLoading}},created:function(){var t=this;t.getItem(),t.getProducts(),t.favoriteItem=JSON.parse(localStorage.getItem("favoriteItemId"))||[]},mounted:function(){var t=this;function a(){r()(this).scrollTop()>1200?r()("#returnTop").fadeIn():r()("#returnTop").fadeOut()}t.$bus.$on("returnFavItem",(function(a){t.getProducts(),t.checkFavStatus(a)})),t.$bus.$on("sendId",(function(a){t.goProduct(a)})),r()(window).scroll(a)}},b=g,C=Object(p["a"])(b,s,i,!1,null,null,null);a["default"]=C.exports},a434:function(t,a,e){"use strict";var s=e("23e7"),i=e("23cb"),o=e("a691"),n=e("50c4"),r=e("7b0b"),c=e("65f0"),l=e("8418"),d=e("1dde"),u=e("ae40"),f=d("splice"),v=u("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,h=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!f||!v},{splice:function(t,a){var e,s,d,u,f,v,b=r(this),C=n(b.length),_=i(t,C),x=arguments.length;if(0===x?e=s=0:1===x?(e=0,s=C-_):(e=x-2,s=h(p(o(a),0),C-_)),C+e-s>m)throw TypeError(g);for(d=c(b,s),u=0;u<s;u++)f=_+u,f in b&&l(d,u,b[f]);if(d.length=s,e<s){for(u=_;u<C-s;u++)f=u+s,v=u+e,f in b?b[v]=b[f]:delete b[v];for(u=C;u>C-s+e;u--)delete b[u-1]}else if(e>s)for(u=C-s;u>_;u--)f=u+s-1,v=u+e-1,f in b?b[v]=b[f]:delete b[v];for(u=0;u<e;u++)b[u+_]=arguments[u+2];return b.length=C-s+e,d}})},b1d9:function(t,a,e){},c975:function(t,a,e){"use strict";var s=e("23e7"),i=e("4d64").indexOf,o=e("a640"),n=e("ae40"),r=[].indexOf,c=!!r&&1/[1].indexOf(1,-0)<0,l=o("indexOf"),d=n("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:c||!l||!d},{indexOf:function(t){return c?r.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},fdbc:function(t,a){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-eb2e89f6.3297e573.js.map